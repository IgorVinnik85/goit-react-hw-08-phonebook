"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[38],{3530:function(e,r,n){n.d(r,{Z:function(){return u}});var t="ModalNotify_modal__ZfGAV",o=n(4164),a=n(184),s=document.querySelector("#modal-root"),u=function(e){var r=e.error,n=e.success;return(0,o.createPortal)((0,a.jsxs)("div",{className:t,children:[r,n]}),s)}},4038:function(e,r,n){n.r(r);var t=n(5861),o=n(9439),a=n(7757),s=n.n(a),u=n(2791),c=n(5558),i=n(5984),l=n(9176),f=n(7689),m=n(9101),d=n(3530),p=n(184);r.default=function(){var e=(0,l.e9)(),r=(0,o.Z)(e,1)[0],n=(0,u.useState)(""),a=(0,o.Z)(n,2),h=a[0],v=a[1],b=(0,u.useState)(""),x=(0,o.Z)(b,2),g=x[0],_=x[1],w=(0,m.useDispatch)(),Z=(0,f.s0)(),k=(0,i.x0)(),j=(0,i.x0)(),y=(0,u.useState)(!1),S=(0,o.Z)(y,2),N=S[0],C=S[1];(0,u.useEffect)((function(){if(N){var e=setTimeout((function(){C(!1)}),1500);return function(){return clearTimeout(e)}}}),[N]);var F=function(e){var r=e.currentTarget,n=r.name,t=r.value;"number"===n&&v(t),"password"===n&&_(t)},P=function(){var e=(0,t.Z)(s().mark((function e(n){var t,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,t={email:h,password:g},e.next=5,r(t).unwrap();case 5:o=e.sent,console.log(o.token),w((0,l.o4)(o.token)),Z("/contacts"),console.log("Login successful:",o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Login failed:",e.t0),C(!0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(r){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{children:[N&&(0,p.jsx)(d.Z,{error:"Wrong data"}),(0,p.jsxs)("form",{className:c.Z.form,onSubmit:P,children:[(0,p.jsxs)("label",{className:c.Z.form,htmlFor:k,children:["Email",(0,p.jsx)("input",{type:"email",value:h,onChange:F,name:"number",required:!0,id:k})]}),(0,p.jsxs)("label",{className:c.Z.form,htmlFor:j,children:["Password",(0,p.jsx)("input",{type:"password",value:g,onChange:F,name:"password",required:!0,id:j})]}),(0,p.jsx)("button",{className:c.Z.btn,type:"submit",children:"Log in"})]})]})}},5558:function(e,r){r.Z={form:"FormPhonebook_form__yE3-g",btn:"FormPhonebook_btn__5b-dH"}},5984:function(e,r,n){n.d(r,{x0:function(){return t}});var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,r){return e+=(r&=63)<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=38.8cdd5906.chunk.js.map